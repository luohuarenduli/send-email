<template>
  <div class="hello">
    <h1>{{ msg }}</h1>
    <h1>{{userData.name}}</h1>
    <button @click="sendMail">ç‚¹å‡»å‘é€é‚®ä»¶</button>
  </div>
</template>

<script>
const nodemailer = require("nodemailer");
export default {
  name: 'HelloWorld',
  props: {
    msg: String,
    userData: Object
  },
  data() {
    return {

    }
  },
  methods: {
    sendMail() {
      let transporter = nodemailer.createTransport({
        service: "QQ",//å‘é€æ–¹é‚®ä»¶qq
        port: 465,//ç«¯å£å·
        secureConnection: true,
        auth: {
          user: '1501222068@qq.com', // å‘é€æ–¹é‚®ç®±åœ°å€
          pass: 'mfeuabanznvggcbd'//éªŒè¯ç  è·å–éªŒè¯ç è¯·æŸ¥çœ‹åé¢æ­¥éª¤
        }
      });
      //é‚®ä»¶ä¿¡æ¯
      let mailInfo = {
        from: '"æµ‹è¯•" <1501222068@qq.com>', // å‘é€æ–¹é‚®ç®±åœ°å€
        to: "2915666871@qq.com", // æ¥æ”¶æ–¹é‚®ç®±
        subject: "æµ‹è¯•", // æ ‡é¢˜
        text: "Hello world?", // é‚®ç®±å†…å®¹
        // html: "<b>Hello world?</b>",
        // attachments: [
        // 	{
        // 			filename: 'text.txt',//é™„ä»¶åç§°
        // 			path: './text.txt'//é™„ä»¶çš„ä½ç½®
        // 	}
        // 	]
      }
      //å‘é€é‚®ä»¶
      transporter.sendMail(mailInfo, (err, data) => {
        if (!err) {
          console.log('æˆåŠŸ', data);
        } else {
          console.log("ğŸš€ ~ file: emailBoom.js ~ line 36 ~ transporter.sendMail ~ err", err)
        }

      });
    }
  },
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped lang="scss">
h3 {
  margin: 40px 0 0;
}
ul {
  list-style-type: none;
  padding: 0;
}
li {
  display: inline-block;
  margin: 0 10px;
}
a {
  color: #42b983;
}
</style>
